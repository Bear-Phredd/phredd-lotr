if(window.OADTS_InLine===void 0){window.OADTS_InLine=function(a){var e=9;var b=10;var g=11;var d=12;var f=13;var c={zoneid:false,target:window,is_loadVideo:false,frame:false,banner:false,marginBelow:false,frameWindow:false,is_playing:false,has_played:false,has_loaded:false,upLevel:3,videoHeight:350,videoWidth:620,ismute:false,trackingUrls:{},minWidth:parseInt("270"),toggleMute:!!parseInt("1"),startMute:!!parseInt("1"),defaultPosition:parseInt("150"),allowedNodes:"",allowedRegex:false,debugLog:parseInt("0"),cust:"",loc:false,css:false,endFunc:false,maxWidth:0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,adv:false,cTrack:true,cContinue:false,dl:function(h){if(this.debugLog){if(this.debugLog>1){if(!this.debugArea){var h=this.debugArea=this.target.document.createElement("DIV");var h=h.style;h.position="fixed";h.top=h.left="0px";h.width="100%";h.height="100px";h.zIndex="9999999";h.overflow="scroll";h.border="2px solid red";h.backgroundColor="white";this.target.document.body.appendChild(this.debugArea)}try{this.debugArea.appendChild(this.target.document.createTextNode(h));this.debugArea.appendChild(this.target.document.createElement("BR"))}catch(i){}}try{console.log(h)}catch(i){}}},mark:function(h,i){if(this.debugLog){for(var k=0;k<h.length;k++){try{h[k].style.border="1px solid "+i}catch(j){}}}},setMute:function(){if(!this.ismute&&this.frameWindow){this.frameWindow.postMessage("volume0","*");this.ismute=true}},clearMute:function(){if(this.ismute&&this.frameWindow){this.frameWindow.postMessage("volume1","*");this.ismute=false}},loadVideo:function(i){var h=this.target.location.protocol+"//media.oadts.com/www/delivery/afv.php?zoneid="+this.zoneid+"&pw="+this.videoWidth+"&ph="+this.videoHeight;if(!!(this.ismute=this.startMute)){h+="&startmuted=1"}h+="&cb="+Math.random()+this.cust;if(h.indexOf("&loc=")<0){h+="&loc="+encodeURIComponent(this.loc)}this.frame.src=h},addAdv:function(){var j=this;var i=j.adv.dom=j.target.document.createElement("DIV");var h=i.style;i.id="ad_banner_adv";i.appendChild(j.target.document.createTextNode(j.adv.text));h.width=""+j.videoWidth+"px";j.banner.parentNode.insertBefore(i,(j.adv.pos=="top")?j.banner:j.banner.nextSibling)},delAdv:function(){var h=this;if(h.adv.dom){h.adv.dom.parentNode.removeChild(h.adv.dom);h.adv.dom=false}},openVideo:function(){this.is_playing=true;if(this.css){this.banner.className=this.css}this.banner.style.display="block";if(this.marginBelow){this.banner.style.marginBottom="10px"}var k=this,j=parseInt(k.banner.style.height)||0;var i=this.target.setInterval(function(){if((j+=16)>k.videoHeight){k.target.clearInterval(i);j=k.videoHeight;k.flushFlash();if(k.adv!==false){k.addAdv()}}k.banner.style.height=""+j+"px";try{k.target.dispatchEvent(new Event("resize"))}catch(h){}},3);k.mouseoverFunction=function(){if(k.toggleMute){k.clearMute()}};k.mouseoutFunction=function(){if(k.toggleMute){k.setMute()}};this.addEvent(this.banner,"mouseover",k.mouseoverFunction);this.addEvent(this.banner,"mouseout",k.mouseoutFunction)},closeVideo:function(i){var n=this,m=n.banner.style,l=(m.height!="0px")?parseInt(n.banner.style.height)||n.videoHeight:0;var k=function(){n.frame.src="about:_blank";if(n.marginBelow){m.margin="0px"}m.display="none";n.banner.className="";n.cleanup();if(n.endFunc!==false){try{(n.endFunc)(i)}catch(h){}}};n.delAdv();if(l){var j=this.target.setInterval(function(){if((l-=8)<0){n.target.clearInterval(j);k();l=0}m.height=""+l+"px";try{n.target.dispatchEvent(new Event("resize"))}catch(h){}},3)}else{k()}},onTouched:function(){if(this.is_loadVideo&&this.has_loaded&&!this.has_played&&!this.hasTouched&&!this.iOS){this.hasTouched=true;this.dl("onTouch");this.playPauseVideo(true)}},playPauseVideo:function(h){if(this.frameWindow!==false){this.dl(h?"send: setPlay":"send: setPause");this.frameWindow.postMessage(h?"setPlay":"setPause","*")}},flushFlash:function(){if(this.frameWindow!==false){this.frameWindow.postMessage("flushFlash","*")}},onMessage:function(k){var i=k.data;var h=k.origin;var j="//media.oadts.com";if(h.indexOf(j)<4){return}this.dl("onMessage: "+i);this.frameWindow=k.source;if(i.indexOf("videoEnds:")!==-1||i.indexOf("videoComplete")!==-1){this.closeVideo(false)}else{if(i.indexOf("loaded")!==-1){this.has_loaded=true}else{if(i.indexOf("NoVideo")!==-1){this.closeVideo(true)}else{if(i.indexOf("videoStart")!==-1){this.has_played=true;this.openVideo()}}}}},visibleHeight:function(h){return h.innerHeight||h.document.documentElement.clientHeight||h.document.body.clientHeight||0},fGetPageSize:function(){var l,h,i=this.target,m=i.document;if(i.innerHeight){l=i.innerWidth;h=i.innerHeight}else{if(m.documentElement&&m.documentElement["clientHeight"]){l=m.documentElement["clientWidth"];h=m.documentElement["clientHeight"]}else{if(m.body){l=m.body.clientWidth;h=m.body.clientHeight}}}var k=i.outerHeight,j=i.outerWidth;if(j&&j<l){l=j}if(k&&k<h){h=k}return{w:l,h:h}},getDocumentScrollTop:function(){var j=this.target.document;var i=j.defaultView||j.parentWindow;var h=0;if("pageYOffset" in i){h=i.pageYOffset}else{h=document.documentElement.scrollTop||document.body.scrollTop}return h},getTextNodeDim:function(l){var k=this.target.document,h=0;if(k.createRange){var i=k.createRange();i.selectNodeContents(l);if(i.getBoundingClientRect){var j=i.getBoundingClientRect();if(j){return{top:j.top,left:j.left,width:j.right-j.left,height:j.bottom-j.top}}}}return false},getClipRect:function(k){var l=0;var j=0;var h=function(m){l+=m.offsetLeft;j+=m.offsetTop;if(m.offsetParent){h(m.offsetParent)}};if(k.nodeName=="#text"){var i=this.getTextNodeDim(k);if(i){return i}}else{if(!k.offsetWidth&&!k.offsetHeight&&k.getBoundingClientRect){var i=k.getBoundingClientRect();if(i){return{top:i.top,left:i.left,width:i.right-i.left,height:i.bottom-i.top}}}}h(k);return{top:j,left:l,width:k.offsetWidth,height:k.offsetHeight}},fVisibility:function(k,l){l|=0;if(typeof k!="undefined"){var s=0,m=l||k.clientHeight||1;if(m>0){var i=this.getClipRect(k),j=k;if(i){if(!i.top&&!i.left&&!i.width&&!i.height){return -1}var q=i.top-l,n=i.top+m;var j=this.fGetPageSize();var t=this.getDocumentScrollTop();if(q>t+j.h||n<t){this.dl("fVisibility=0");return 0}else{if(q<t){q=t}if(n>t+j.h){n=t+j.h}if(n>=q){s=Math.round(100*(n-q)/m);if(s>100){s=100}}this.dl("fVisibility="+s+"  y1="+q+" y2="+n);return s}}}}this.dl("fVisibility=0");return 0},isScrolledIntoView:function(){if(!this.is_loadVideo){var h=this.fVisibility(this.frame,this.videoHeight);if(h<0){h=this.fVisibility(this.banner,this.videoHeight);if(h<0){if(this.banner.style.display=="none"){this.banner.style.display="block"}}}if(h>=70){this.dl("isScrolledIntoView: loading");this.is_loadVideo=true;this.loadVideo();this.track(d)}}else{if(this.has_played){if(this.fVisibility(this.banner)>50){this.track(f);if(!this.is_playing){this.playPauseVideo(true);this.is_playing=true}}else{if(!this.cContinue&&this.is_playing){this.playPauseVideo();this.is_playing=false}}}}},delEvent:function(i,j,h){if(i.removeEventListener){i.removeEventListener(j,h)}else{if(i.detachEvent){i.detachEvent("on"+j,h)}}},addEvent:function(i,j,h){if(i.addEventListener){i.addEventListener(j,h,false)}else{if(i.attachEvent){i.attachEvent("on"+j,h)}}},makeNode:function(){var h=this.target.document.createElement("DIV");h.style.display="none";return h},nodeDescr:function(i){var h=i.innerText?i.innerText:(i.textContent?i.textContent:"");return i.nodeName+"("+h.substr(0,20)+")"},findNodeWithTopBetween:function(m,q,p,h){var k=this.makeNode();var u=(q+p)/2;var o="";for(var j=0;j<h;j++){o+=" "}this.dl(o+"findNodeWithTopBetween for "+q+"-"+p);var l=false;for(var j=0;j<m.childNodes.length;j++){var t=m.childNodes[j];var s=this.getClipRect(t);if(s&&!isNaN(s.top)){var r=t.clientHeight||s.height;this.dl(o+"findNodeWithTopBetween for r.t="+s.top+" r.h="+s.height+" t="+this.nodeDescr(t));if(s.top+r<q){continue}else{if(p>=s.top&&q<=s.top+r){var i=this.findNodeWithTopBetween(t,q,p,h+1);if(i){l=i}else{l=t}this.dl(o+"selected so far="+(l?this.nodeDescr(l):"none"));if(s.top>=u&&l){return l}}else{if(s.top>p){return l}}}}}return l},getNodeIndex:function(h){if(h&&h.parentNode){for(var i=0;i<h.parentNode.childNodes.length;i++){if(h===h.parentNode.childNodes[i]){return i}}}return false},allowedNode:function(j,h){var k=this.getNodeIndex(j);while(k!==false&&j){if(k){var i=j.parentNode.childNodes[k-1].nodeName+","+j.nodeName;if(i.match(/^(P|DIV|#text),(P|DIV|#text)$/)){return j}if(i.match(/^(P|UL|BR|#text),H[1-5]$/)){this.marginBelow=true;return j}if(i.match(/^BR,BR$/)){this.marginBelow=true;return j}if(i.match(this.allowedRegex)){return j}}if(h<0){if(--k<=0){return false}}else{if(++k>=j.parentNode.childNodes.length){return false}}j=j.parentNode.childNodes[k]}return false},testLocation:function(l){var h=this.fGetPageSize().h;var k=this.getClipRect(l);var q=Math.floor(h*this.defaultPosition/100);if(k&&q>=l.clientHeight){q=k.top+(k.height/2)}var p=q-(h*0.25);var o=q+(h*0.75);var i=this.findNodeWithTopBetween(l,p,o,0);while(i){var j=this.allowedNode(i,-1);var m=this.allowedNode(i,1);if(!j&&!m){i=i.parentNode}else{if(j&&m){var n=this.getClipRect(j).top+(j.clientHeight/2);var r=this.getClipRect(m).top+(m.clientHeight/2);var s=(p+o)/2;return(Math.abs(s-n)<Math.abs(s-r))?j:m}else{return j?j:m}}}return i},findLocation:function(l){var i=this.fGetPageSize().h;var p=Math.floor(i*this.defaultPosition/100);var k=false;var m=false;this.mark(l,"red");for(var j=0;j<l.length;j++){var r=this.testLocation(l[j]);if(r){var h=r.offsetWidth||r.parentNode.offsetWidth;if(h>=this.minWidth){var o=9999,q=this.getClipRect(r);if(q){o=Math.abs(p-q.top)}if(k===false||m>o){k=r;m=o}}}}if(k){this.mark([k],"green")}return k},setup:function(j,l){var k=this,i;var h=function(o,n){var p;if(o.currentStyle){p=o.currentStyle[n]}else{if(k.target.getComputedStyle){p=k.target.document.defaultView.getComputedStyle(o,null).getPropertyValue(n)}}return p};k.dl("setup");k.videoWidth=j.offsetWidth||j.parentNode.offsetWidth;try{k.videoWidth-=parseInt(h(j.offsetWidth?j:j.parentNode,"padding-left"))}catch(m){}try{k.videoWidth-=parseInt(h(j.offsetWidth?j:j.parentNode,"padding-right"))}catch(m){}if(k.videoWidth<k.minWidth){k.dl("width="+k.videoWidth+", need="+k.minWidth);return 0}if(k.maxWidth>k.minWidth&&k.videoWidth>k.maxWidth){k.videoWidth=k.maxWidth}k.videoHeight=Math.floor((k.videoWidth*360)/640);k.banner=k.target.document.createElement("DIV");k.frame=k.target.document.createElement("IFRAME");k.frame.id="ad_frame";k.frame.width=k.videoWidth;k.frame.height=k.videoHeight;i=k.frame.style;i.border=i.margin=i.padding="0px";k.banner.appendChild(k.frame);k.banner.id="ad_banner";i=k.banner.style;i.width=""+k.videoWidth+"px";i.height="0px";i.overflow="hidden";i.margin=i.padding="0px";j.parentNode.insertBefore(k.banner,l?j.nextSibling:j);k.target.setTimeout(function(){k.banner.style.display="none"},10);return 1},getElements:function(j){var h=this,i;if(String.prototype.trim){j=j.trim(j)}if(j.indexOf(".")==0){return h.target.document.getElementsByClassName(j.substring(1))}else{if(j.indexOf("#")==0){i=h.target.document.getElementById(j.substring(1));if(i){return[i]}}else{i=h.target.document.getElementById(j);if(i){return[i]}}}return false},getPlacement:function(u){var v=this;var z=this.target.document.getElementById(u);if(z){return z}var s=function(n,m){while(m&&m!==n){m=m.parentNode}return m===n};var y=function(F,C,A){var B=v.getElements(F);if(B){var E=v.getElements(C);if(E){for(var D=0;D<B.length;D++){for(var o=0;o<E.length;o++){if(s(E[o],B[D])){A.push(B[D]);break}}}}}};var r=[];var k=u.split(/,/);for(var p=0;p<k.length;p++){var h=k[p].split(/ /);var l=k[p].split(/>/);var j=k[p].split(/</);if(h.length==2){var x=v.getElements(h[0]),w=v.getElements(h[1]);if(x&&w){for(var q=0;q<x.length;q++){for(var i=0;i<w.length;i++){if(x[q]===w[i]){r.push(x[q]);break}}}}}else{if(l.length==2){y(l[0],l[1],r)}else{if(j.length==2){y(j[1],j[0],r)}else{var t=v.getElements(k[p]);if(t&&t.length){for(var q=0;q<t.length;q++){r.push(t[q])}}}}}}this.dl("results.length="+r.length);return r.length?r:null},track:function(h){if(!this.cTrack||typeof(this.trackingUrls[h])!="undefined"){return}try{this.trackingUrls[h]=new Image();this.trackingUrls[h].src="//media.oadts.com/www/delivery/fc.php?script=deliveryLog:oaLogEvent:logEvent&zoneid="+this.zoneid+"&bannerid=0&eventId="+h+"&cb="+Math.floor(Math.random()*99999999999)}catch(i){}},cleanup:function(){if(this.messageFunction){if(this.target!=window){this.delEvent(window,"message",this.messageFunction)}this.delEvent(this.target,"message",this.messageFunction);this.messageFunction=false}if(this.scrollFunction){this.delEvent(this.target,"scroll",this.scrollFunction);this.scrollFunction=false}if(this.touchFunction){this.delEvent(this.target,"touchmove",this.touchFunction);this.touchFunction=false}if(this.mouseoverFunction){this.delEvent(this.banner,"mouseover",this.mouseoverFunction)}if(this.mouseoutFunction){this.delEvent(this.banner,"mouseout",this.mouseoutFunction)}},getLocation:function(i){var h=this.getElements(i);if(h&&h.length){return h[0]}return null},build_custom:function(j){var i=this,h="";if(j.hasOwnProperty){for(var k in j){if(j.hasOwnProperty(k)&&k.match(/^[\w\d]+$/)){h+="&cust-"+k+"="+this.target.encodeURIComponent(j[k])}}}return h},elementsFromPoint:function(q,p,o){var n=this,h=[],j=[],l,k,m;while((l=q.elementFromPoint(p,o))&&h.indexOf(l)===-1&&l!=null){h.push(l);j.push({value:l.style.getPropertyValue("pointer-events"),priority:l.style.getPropertyPriority("pointer-events")});l.style.setProperty("pointer-events","none","important")}for(k=j.length;m=j[--k];){h[k].style.setProperty("pointer-events",m.value?m.value:"",m.priority)}return h},getContainers:function(){var o=this,i=[],p=o.fGetPageSize(),l=Math.floor(p.h*o.defaultPosition/100),k=o.target.document.body,j=o.target.document.documentElement,r=Math.max(k.scrollHeight,k.offsetHeight,j.clientHeight,j.scrollHeight,j.offsetHeight);if(l<r){try{var q=o.elementsFromPoint(o.target.document,p.w/2,p.h*9/10);for(var h=0;h<q.length;h++){var s=q[h];while(s&&s!==k){if(s.offsetWidth&&s.offsetWidth>=o.minWidth){i.push(s);break}s=s.parentNode}}}catch(m){}}return i},init:function(l){var i=this;if(i.allowedNodes!==""){try{i.allowedRegex=new RegExp(i.allowedNodes)}catch(k){}}if(!l){return 0}i.dl("inline");i.dl(l);i.zoneid=l.zoneid?parseInt(l.zoneid):false;this.track(b);var h=false;if(l.location){h=i.getLocation(l.location)}if(!h){var j=l.placement?i.getPlacement(l.placement):false;if(!j&&l.body!==false){j=i.getContainers();j.push(i.target.document.body)}if(j){h=i.findLocation(j)}}if(typeof(l.maxWidth)!="undefined"&&l.maxWidth>0){i.maxWidth=l.maxWidth}if(!i.zoneid||isNaN(i.zoneid)){return 0}if(!i.target){return 0}if(!h||!i.setup(h,!!l.behind)){return 0}if(typeof(l.cust)!="undefined"){try{i.cust=i.build_custom(l.cust)}catch(k){}i.dl("custom="+i.cust)}if(typeof(l.css)=="string"){i.css=l.css}i.loc=(typeof(l.ref_url)=="string")?l.ref_url:i.target.location;if(typeof(l.endFunc)=="function"){i.endFunc=l.endFunc}if(typeof(l.advertisment)!="undefined"){i.adv={text:"Advertisement",pos:"top",dom:false}}this.track(g);i.messageFunction=function(m){i.onMessage(m)};i.scrollFunction=function(){i.isScrolledIntoView()};i.touchFunction=function(m){i.onTouched(m)};if(i.target!=window){i.addEvent(window,"message",i.messageFunction)}i.addEvent(i.target,"message",i.messageFunction);i.addEvent(i.target,"scroll",i.scrollFunction);i.addEvent(i.target,"touchmove",i.touchFunction);i.target.window.setTimeout(i.scrollFunction,0)},contentLoaded:function(k,o){var j=false,n=true,q=k.document,p=q.documentElement,h=q.addEventListener,t=h?"addEventListener":"attachEvent",r=h?"removeEventListener":"detachEvent",i=h?"":"on",s=function(u){if(u.type=="readystatechange"&&q.readyState!="complete"){return}(u.type=="load"?k:q)[r](i+u.type,s,false);if(!j&&(j=true)){o.call(k,u.type||u)}},m=function(){try{p.doScroll("left")}catch(u){setTimeout(m,50);return}s("poll")};if(q.readyState=="complete"){o.call(k,"lazy")}else{if(!h&&p.doScroll){try{n=!k.frameElement}catch(l){}if(n){m()}}q[t](i+"DOMContentLoaded",s,false);q[t](i+"readystatechange",s,false);k[t](i+"load",s,false)}},domReady:function(j){var h=this;try{h.zoneid=j.zoneid?parseInt(j.zoneid):false}catch(i){}if(h.zoneid){this.track(e)}h.target=j.window?j.window:top;h.contentLoaded(h.target,function(){h.init(j)})}};c.domReady(a)}};